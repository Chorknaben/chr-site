<!DOCTYPE html>
<html>
<head>
	<title>Chorknaben Biberach</title>
	<link rel="Shortcut Icon" href="img/favicon.ico">
	<link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
	<script type="text/javascript" src="code/jquery-1.11.1.min.js"></script> 
	<script type="text/javascript">
	var date = new Date();
	var curHour = date.getHours();
	var curMin  = date.getMinutes();
	var curSec  = date.getSeconds();

	var set = function(selector, value){
		value = value.toString();
		if (value.length == 1)
			value = "0" + value;
		$(selector).html(value);
	}

	$(function(){
		set(".hours", 20-curHour)
		set(".minutes", 60-curHour)
		set(".secs", 60-curSec)
	})
	doneFlag = false;
	var iID = setInterval(function(){
		curSec++;
		var secs = 60 - curSec;
		if (secs == -1){
			if (doneFlag){
				// finished
				clearInterval(iID);
				location.reload(true);
				return
			}

			// Dec Minute
			curSec = 0;
			set(".secs", 60);

			curMin++;
			var mins = 60 - curMin;
			if (mins == -1){
				curMin = 0;
				set(".mins", 60);
				// Dec Hour
				curHour++;
				if (20 - curHour == -1){
					// Done
					console.log("done");
					doneFlag = true;

				} else {
					set(".hours", 20 - curHour);
				}
			} else{
				set(".minutes", mins)
			}
		} else {
			set(".secs", secs);
		}
	}, 1000);
	</script>
	<style>
		body{
			font-family:'Open Sans', sans-serif;
			background: url(a.png);
		}
		h1{
			color: white;
			text-align: center;
			font-size: 4em;
		}
		section{
			width:608px;
			height:400px;
		}
		.centered{
			top:0; bottom:0; left:0; right:0;
			position:absolute;
			margin:auto;
		}
		.number{
			background-color:#e74c3c;
			color:white;
			font-size:7em;
			padding:15px;
			opacity:0.8;
		}
		.sep{
			color:#1a171a;
			font-size:8em;
		}
	</style>
</head>
<body>
	<section class="centered">
		<div class="countdown-timer">
			<span class="number hours">00</span>
			<span class="sep">:</span>
			<span class="number minutes">00</span>
			<span class="sep">:</span>
			<span class="number secs">00</span>
		</div>
		<h1>21 UHR</h1>
	</section>
</body>
</html>